fileFormatVersion: 2
guid: 82e35991918c9e84fa36a895238b9ddb
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.9","ReferencedSpecifiers":["@assets/Experience/IdleTOT/Scripts/GameManager"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst GameManager_1 = require(\"@assets/Experience/IdleTOT/Scripts/GameManager\");\nclass
    HazardItemSpawner extends UnityEngine_1.MonoBehaviour {\n    constructor() {\n       
    super(...arguments);\n        this.spawnPosition = new UnityEngine_1.Vector3(0,
    -3, 0);\n    }\n    Start() {\n        //Get GameManager singleton and add a
    listener to OnGameStateChange event\n        this.gameManager = GameManager_1.default.Instance;\n       
    this.gameManager.OnGameStateChange.addListener(this.CheckGameState, //@ts-ignore\n       
    this);\n        this.coroutine = this.StartCoroutine(this.SpawnItems());\n   
    }\n    CheckGameState(newState) {\n        switch (newState) {\n            case
    GameManager_1.GameState.GAME_PLAY:\n                this.OnGamePlay();\n               
    break;\n            case GameManager_1.GameState.GAME_OVER:\n               
    this.OnGameOver();\n                break;\n        }\n    }\n    /** This will
    manage the enemies once the game starts. */\n    OnGamePlay() {\n        //this.coroutine
    = this.StartCoroutine(this.SpawnItems());\n    }\n    /** Spawns the initial
    pool of GameObjects and deactivates them. */\n    CreateItem() {\n        let
    temp = null;\n        switch (this.gameManager.GameValues.get(GameManager_1.GameValue.CURRENT_BIOME))
    {\n            case (GameManager_1.Biomes.TOT):\n                temp = UnityEngine_1.Object.Instantiate(this.TotItem,
    this.transform);\n                break;\n            case (GameManager_1.Biomes.PLAINES):\n               
    temp = UnityEngine_1.Object.Instantiate(this.PlainesItem, this.transform);\n               
    break;\n            case (GameManager_1.Biomes.MINE):\n                temp =
    UnityEngine_1.Object.Instantiate(this.MineItem, this.transform);\n               
    break;\n            case (GameManager_1.Biomes.DESERT):\n                temp
    = UnityEngine_1.Object.Instantiate(this.DesertItem, this.transform);\n               
    break;\n            default:\n                temp = UnityEngine_1.Object.Instantiate(this.TotItem,
    this.transform);\n                break;\n        }\n        temp.SetActive(false);\n       
    return temp;\n    }\n    /** Coroutine that spawns a new enemy from the pool.
    */\n    *SpawnItems() {\n        while (true) {\n            yield null;\n           
    //Get a deactivated enemy from the pool\n            let item = this.CreateItem();\n           
    if (item) {\n                //Spawn in a random lane and activate\n               
    item.transform.position = new UnityEngine_1.Vector3(UnityEngine_1.Mathf.Floor(//
    @ts-ignore\n                UnityEngine_1.Random.Range_EBB7509C_H2CFB2EE5(-30,
    30)), -3, UnityEngine_1.Mathf.Floor(// @ts-ignore\n                UnityEngine_1.Random.Range_EBB7509C_H2CFB2EE5(-30,
    30)));\n                item.SetActive(true);\n            }\n            yield
    new UnityEngine_1.WaitForSeconds(this.gameManager.GameValues.get(GameManager_1.GameValue.SPAWN_RATE));\n       
    }\n    }\n    getNearestItemPosition(playerPosition) {\n        let nearestItem
    = null;\n        let nearestDistance = 1000;\n        for (let i = 0; i < this.transform.childCount;
    i++) {\n            let item = this.transform.GetChild(i).gameObject;\n           
    if (item.activeSelf) {\n                let distance = UnityEngine_1.Vector3.Distance(playerPosition,
    item.transform.position);\n                if (distance < nearestDistance) {\n                   
    nearestItem = item;\n                    nearestDistance = distance;\n               
    }\n            }\n        }\n        return nearestItem.transform;\n    }\n   
    /** This will manage the enemies once the game ends. */\n    OnGameOver() {\n       
    if (this.coroutine) {\n            this.StopCoroutine(this.coroutine);\n       
    }\n    }\n}\nexports.default = HazardItemSpawner;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1lBQ3hCO1lBQ0EsTUFBTSxJQUFJLDRCQUFjLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLHVCQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkY7SUFDSjtJQUVPLHNCQUFzQixDQUFDLGNBQXVCO1FBQ2pELElBQUksV0FBVyxHQUFlLElBQUk7UUFDbEMsSUFBSSxlQUFlLEdBQVcsSUFBSTtRQUVsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDaEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVTtZQUNoRCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ2pCLElBQUksUUFBUSxHQUFHLHFCQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQztnQkFDeEUsSUFBSSxRQUFRLEdBQUcsZUFBZSxFQUFFO29CQUM1QixXQUFXLEdBQUcsSUFBSTtvQkFDbEIsZUFBZSxHQUFHLFFBQVE7Z0JBQzlCO1lBQ0o7UUFDSjtRQUNBLE9BQU8sV0FBVyxDQUFDLFNBQVM7SUFDaEM7SUFHQSx1REFBc0Q7SUFDOUMsVUFBVTtRQUNkLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNmLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUN0QztJQUNKO0NBQ0o7QUE1R0Esb0NBNEdBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJIYXphcmRJdGVtU3Bhd25lci50cyJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","ScriptHash":"ce49d2393497aabab07696979436a24f","Specifier":"@assets/Experience/IdleTOT/Scripts/HazardItemSpawner","DefaultTypeName":"@assets/Experience/IdleTOT/Scripts/HazardItemSpawner.HazardItemSpawner","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/IdleTOT/Scripts/HazardItemSpawner.HazardItemSpawner","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.6.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"TotItem","Name":"TotItem","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"Header","Args":["\"Enemy
    Settings\""]},{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Tot
    Item"},{"Path":"PlainesItem","Name":"PlainesItem","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Plaines
    Item"},{"Path":"MineItem","Name":"MineItem","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Mine
    Item"},{"Path":"DesertItem","Name":"DesertItem","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Desert
    Item"}],"SupportedUiEvents":0,"DisplayName":"HazardItemSpawner","name":"HazardItemSpawner","hideFlags":8}'
