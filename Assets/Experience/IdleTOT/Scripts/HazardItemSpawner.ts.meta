fileFormatVersion: 2
guid: 82e35991918c9e84fa36a895238b9ddb
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.9","ReferencedSpecifiers":["@assets/Experience/IdleTOT/Scripts/GameManager"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst GameManager_1 = require(\"@assets/Experience/IdleTOT/Scripts/GameManager\");\nclass
    HazardItemSpawner extends UnityEngine_1.MonoBehaviour {\n    constructor() {\n       
    super(...arguments);\n        this.spawnPosition = new UnityEngine_1.Vector3(0,
    -3, 0);\n    }\n    Start() {\n        //Get GameManager singleton and add a
    listener to OnGameStateChange event\n        this.gameManager = GameManager_1.default.Instance;\n       
    this.gameManager.OnGameStateChange.addListener(this.CheckGameState, //@ts-ignore\n       
    this);\n        this.coroutine = this.StartCoroutine(this.SpawnItems());\n   
    }\n    CheckGameState(newState) {\n        switch (newState) {\n            case
    GameManager_1.GameState.GAME_PLAY:\n                this.OnGamePlay();\n               
    break;\n            case GameManager_1.GameState.GAME_OVER:\n               
    this.OnGameOver();\n                break;\n        }\n    }\n    /** This will
    manage the enemies once the game starts. */\n    OnGamePlay() {\n        //this.coroutine
    = this.StartCoroutine(this.SpawnItems());\n    }\n    /** Spawns the initial
    pool of GameObjects and deactivates them. */\n    CreateItem() {\n        let
    temp = UnityEngine_1.Object.Instantiate(this.prefab, this.transform);\n       
    temp.SetActive(false);\n        return temp;\n    }\n    /** Coroutine that spawns
    a new enemy from the pool. */\n    *SpawnItems() {\n        while (true) {\n           
    yield null;\n            //Get a deactivated enemy from the pool\n           
    let item = this.CreateItem();\n            if (item) {\n                //Spawn
    in a random lane and activate\n                item.transform.position = new
    UnityEngine_1.Vector3(UnityEngine_1.Mathf.Floor(// @ts-ignore\n               
    UnityEngine_1.Random.Range_EBB7509C_H2CFB2EE5(-30, 30)), -3, UnityEngine_1.Mathf.Floor(//
    @ts-ignore\n                UnityEngine_1.Random.Range_EBB7509C_H2CFB2EE5(-30,
    30)));\n                item.SetActive(true);\n            }\n            yield
    new UnityEngine_1.WaitForSeconds(this.gameManager.GameValues.get(GameManager_1.GameValue.SPAWN_RATE));\n       
    }\n    }\n    getNearestItemPosition(playerPosition) {\n        let nearestItem
    = null;\n        let nearestDistance = 1000;\n        for (let i = 0; i < this.transform.childCount;
    i++) {\n            let item = this.transform.GetChild(i).gameObject;\n           
    if (item.activeSelf) {\n                let distance = UnityEngine_1.Vector3.Distance(playerPosition,
    item.transform.position);\n                if (distance < nearestDistance) {\n                   
    nearestItem = item;\n                    nearestDistance = distance;\n               
    }\n            }\n        }\n        return nearestItem.transform;\n    }\n   
    /** This will manage the enemies once the game ends. */\n    OnGameOver() {\n       
    if (this.coroutine) {\n            this.StopCoroutine(this.coroutine);\n       
    }\n    }\n}\nexports.default = HazardItemSpawner;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGF6YXJkSXRlbVNwYXduZXIuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FVb0I7QUFDcEIsZ0ZBQStEO0FBRS9ELE1BQXFCLGlCQUFrQixTQUFRLDJCQUFhO0lBQTVEOztRQUtZLGtCQUFhLEdBQVksSUFBSSxxQkFBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFtRjFEO0lBM0VJLEtBQUs7UUFDRCx5RUFBd0U7UUFDeEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxxQkFBVyxDQUFDLFFBQVE7UUFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWE7WUFBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFHM0Q7SUFHUSxjQUFjLENBQUMsUUFBbUI7UUFDdEMsUUFBTyxRQUFRLEVBQUU7WUFDYixLQUFLLHVCQUFTLENBQUMsU0FBUztnQkFDcEIsSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDakIsTUFBSztZQUNULEtBQUssdUJBQVMsQ0FBQyxTQUFTO2dCQUNwQixJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUNqQixNQUFLO1FBQ2I7SUFDSjtJQUVBLHlEQUF3RDtJQUNoRCxVQUFVO1FBRWQsMERBQXlEO0lBQzdEO0lBSUEsbUVBQWtFO0lBQzFELFVBQVU7UUFDVixJQUFJLElBQUksR0FBRyxvQkFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQWU7UUFDeEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDckIsT0FBTyxJQUFJO0lBQ25CO0lBRUEsdURBQXNEO0lBQzlDLENBQUMsVUFBVTtRQUNmLE9BQU0sSUFBSSxFQUFFO1lBQ1IsTUFBTSxJQUFJO1lBQ1YsdUNBQXNDO1lBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDNUIsSUFBSSxJQUFJLEVBQUU7Z0JBQ04scUNBQW9DO2dCQUNwQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxJQUFJLHFCQUFPLENBQUMsbUJBQUssQ0FBQyxLQUFLO2dCQUFDLG9CQUFNLENBQUMsd0JBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLG1CQUFLLENBQUMsS0FBSztnQkFBQyxvQkFBTSxDQUFDLHdCQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDakgsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7WUFDeEI7WUFDQSxNQUFNLElBQUksNEJBQWMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsdUJBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNuRjtJQUNKO0lBRU8sc0JBQXNCLENBQUMsY0FBdUI7UUFDakQsSUFBSSxXQUFXLEdBQWUsSUFBSTtRQUNsQyxJQUFJLGVBQWUsR0FBVyxJQUFJO1FBRWxDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVO1lBQ2hELElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDakIsSUFBSSxRQUFRLEdBQUcscUJBQU8sQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2dCQUN4RSxJQUFJLFFBQVEsR0FBRyxlQUFlLEVBQUU7b0JBQzVCLFdBQVcsR0FBRyxJQUFJO29CQUNsQixlQUFlLEdBQUcsUUFBUTtnQkFDOUI7WUFDSjtRQUNKO1FBQ0EsT0FBTyxXQUFXLENBQUMsU0FBUztJQUNoQztJQUdBLHVEQUFzRDtJQUM5QyxVQUFVO1FBQ2QsSUFBRyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2YsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3RDO0lBQ0o7Q0FDSjtBQXhGQSxvQ0F3RkEiLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkhhemFyZEl0ZW1TcGF3bmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbF19","ScriptHash":"262b16a2ce07f5c19360c959116263ec","Specifier":"@assets/Experience/IdleTOT/Scripts/HazardItemSpawner","DefaultTypeName":"@assets/Experience/IdleTOT/Scripts/HazardItemSpawner.HazardItemSpawner","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/IdleTOT/Scripts/HazardItemSpawner.HazardItemSpawner","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.6.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"prefab","Name":"prefab","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"Header","Args":["\"Enemy
    Settings\""]},{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Prefab"}],"SupportedUiEvents":0,"DisplayName":"HazardItemSpawner","name":"HazardItemSpawner","hideFlags":8}'
